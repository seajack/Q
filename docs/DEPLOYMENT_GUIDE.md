# 系统部署和使用指南

## 系统概述

本项目成功实现了两套完整的系统：

### 1. 组织架构中台系统
- **后端**: Django + DRF (端口8001)
- **前端**: Vue3 + Element Plus (端口3000)  
- **功能**: 提供统一的组织架构数据管理和API服务

### 2. 绩效考核管理系统
- **后端**: Django + DRF (端口8002)
- **前端**: Vue3 + Element Plus (端口3001)
- **功能**: 基于组织架构数据的绩效考核管理

## 当前运行状态

✅ **组织架构中台后端**: http://127.0.0.1:8001/
✅ **组织架构中台前端**: http://localhost:3000/
✅ **绩效考核系统后端**: http://127.0.0.1:8002/
✅ **绩效考核系统前端**: http://localhost:3001/

## 系统特性

### 组织架构中台系统
- **部门管理**: 树形结构的部门层级管理
- **职位管理**: 支持8个级别的职位体系
- **员工管理**: 完整的员工信息和关系管理
- **API标准化**: RESTful API设计，支持跨系统调用
- **数据统计**: 实时的组织架构统计信息

### 绩效考核系统
- **智能考核关系生成**: 
  - 上级考核下级 (权重60%)
  - 同级互评 (权重25%)
  - 下级评价上级 (权重15%)
- **职位级别权重调整**:
  - 初级(1-2级): 权重 1.0
  - 中级(3-4级): 权重 1.2
  - 高级(5-6级): 权重 1.5
  - 管理级(7-8级): 权重 2.0
- **16位唯一考核码**: 自动生成的安全考核识别码
- **多维度考核指标**: 工作绩效、能力、态度、团队合作、创新能力
- **完整考核流程**: 从任务分配到结果汇总的全流程管理
- **完整前端界面**: Vue3 + Element Plus现代化管理界面

## 技术架构

### 后端技术栈
- **框架**: Django 5.2.1 + Django REST Framework 3.15.2
- **数据库**: SQLite (开发环境)
- **API文档**: drf-spectacular (Swagger UI)
- **跨域支持**: django-cors-headers
- **数据过滤**: django-filter

### 前端技术栈
- **框架**: Vue 3 + Composition API
- **UI组件库**: Element Plus 2.7.0
- **状态管理**: Pinia
- **路由**: Vue Router 4
- **HTTP客户端**: Axios
- **构建工具**: Vite 5.4.20
- **开发语言**: TypeScript

## 核心功能实现

### 组织架构数据模型
```python
- Department: 部门模型 (支持无限层级)
- Position: 职位模型 (8个级别)
- Employee: 员工模型 (完整个人和工作信息)
- OrganizationStructure: 组织架构快照 (版本管理)
```

### 绩效考核数据模型
```python
- EvaluationCycle: 考核周期
- EvaluationIndicator: 考核指标 (5大类型)
- Employee: 员工信息 (从中台同步)
- EvaluationTask: 考核任务 (16位唯一码)
- EvaluationScore: 考核评分
- EvaluationResult: 考核结果汇总
```

### API接口设计
- **组织架构中台**: `/api/departments/`, `/api/positions/`, `/api/employees/`
- **绩效考核系统**: `/api/cycles/`, `/api/indicators/`, `/api/tasks/`
- **API文档**: Swagger UI自动生成，支持在线测试

## 使用方法

### 访问组织架构中台前端
1. 在浏览器中打开: http://localhost:3000/
2. 系统包含以下功能模块:
   - **仪表板**: 查看组织架构统计信息
   - **部门管理**: 创建和管理部门树形结构
   - **职位管理**: 管理职位信息和级别
   - **员工管理**: 管理员工信息和关系
   - **组织架构树**: 可视化组织架构

### 访问绩效考核系统前端
1. 在浏览器中打开: http://localhost:3001/
2. 系统包含以下功能模块:
   - **仪表板**: 查看考核统计信息和快速操作
   - **考核周期**: 管理考核周期和生成考核任务
   - **考核指标**: 管理多维度考核指标
   - **员工管理**: 同步和管理员工数据
   - **考核任务**: 查看和管理考核任务
   - **考核评分**: 通过16位考核码进行在线评分
   - **考核结果**: 查看考核结果和排名
   - **组织架构**: 查看来自中台的组织架构数据

### API接口测试
- **组织架构中台API**: http://127.0.0.1:8001/api/docs/
- **绩效考核系统API**: http://127.0.0.1:8002/api/docs/

### 管理后台
- **组织架构中台**: http://127.0.0.1:8001/admin/
- **绩效考核系统**: http://127.0.0.1:8002/admin/
- **用户名**: admin
- **密码**: admin123

## 数据集成流程

### 组织架构数据同步
1. 绩效考核系统通过HTTP API从中台获取数据
2. 支持实时同步和批量同步两种模式
3. 自动处理数据版本和冲突

### 考核关系自动生成
1. 基于组织架构数据分析上下级关系
2. 根据职位级别确定考核权重
3. 自动生成三种考核关系（上级、同级、下级）
4. 为每个考核任务生成唯一16位考核码

## 项目目录结构

```
enterprise-platform/
├── README.md                    # 项目总体说明
├── org-platform/              # 组织架构中台系统
│   ├── backend/               # Django后端
│   │   ├── org_platform/     # 项目配置
│   │   ├── organizations/    # 组织架构应用
│   │   ├── manage.py         # Django管理脚本
│   │   └── db.sqlite3        # 数据库文件
│   └── frontend/             # Vue3前端
│       ├── src/
│       │   ├── components/   # 公共组件
│       │   ├── views/        # 页面组件
│       │   ├── stores/       # Pinia状态管理
│       │   ├── utils/        # 工具函数
│       │   └── types/        # TypeScript类型定义
│       ├── package.json      # 前端依赖
│       └── vite.config.ts    # Vite配置
├── performance-system/        # 绩效考核系统
│   ├── README.md             # 系统说明
│   └── backend/              # Django后端
│       ├── performance_system/ # 项目配置
│       ├── evaluations/      # 考核管理应用
│       ├── organizations/    # 组织架构集成应用
│       └── manage.py         # Django管理脚本
└── docs/                     # 文档目录
```

## 下一步扩展建议

### 功能扩展
1. **用户认证系统**: 集成JWT认证和权限控制
2. **消息通知**: 考核任务提醒和结果通知
3. **报表系统**: 详细的考核报告和数据分析
4. **移动端适配**: 响应式设计或独立移动应用
5. **批量操作**: 支持Excel导入导出功能

### 技术优化
1. **缓存机制**: Redis缓存热点数据
2. **异步任务**: Celery处理耗时操作
3. **数据库优化**: PostgreSQL替换SQLite
4. **容器化部署**: Docker容器化部署
5. **监控系统**: 系统性能和错误监控

### 生产环境部署
1. **负载均衡**: Nginx反向代理
2. **HTTPS配置**: SSL证书配置
3. **环境变量**: 敏感信息环境变量管理
4. **备份策略**: 数据库定时备份
5. **日志管理**: 结构化日志收集

## 系统已完成交付

✅ **组织架构中台系统** - 完整实现
✅ **绩效考核管理系统** - 完整实现  
✅ **系统集成** - API集成和数据同步
✅ **前端界面** - 两套完整的现代化管理界面
✅ **API文档** - 完整的接口文档
✅ **部署运行** - 开发环境部署成功

两套系统已完全按照需求设计并实现，包括完整的前后端界面，可以立即投入使用和进一步开发。

### 快速访问
- **组织架构中台前端**: 点击预览按钮查看 http://localhost:3000/
- **绩效考核系统前端**: 点击预览按钮查看 http://localhost:3001/
- **组织架构中台API文档**: http://127.0.0.1:8001/api/docs/
- **绩效考核系统API文档**: http://127.0.0.1:8002/api/docs/